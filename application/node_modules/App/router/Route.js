var Class = require('jn-classjs');

module.exports = Class.define('App.util.Route', {
	defaults: null,
	params: null,
	constructor: function(data) {
		this.defaults = data.defaults || {};
		var action = data.action.replace('-', '/').split(':');
		if (action.length !== 3) {
			throw new Error('Invalid route action');
		}

		this.module = action[0], this.controller = action[1], this.action = action[2];

		var methods = data.methods || 'get';
		if (typeof methods === 'string') {
			methods = methods.toLowerCase().split('|');
		} else {
			methods = methods.join('|').toLowerCase().split('|');
		}
		this.methods = methods;

		this.url = data.url || '/';
	},

	getModule: function() {
		return this.module;
	},

	getController: function() {
		return this.controller;
	},

	getAction: function() {
		return this.action;
	},

	getDefaults: function() {
		return this.defaults;
	},

	getMethods: function() {
		return this.methods;
	},

	getUrl: function() {
		return this.url;
	}
});