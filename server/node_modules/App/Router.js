var Class = require('jn-classjs'),
	_ = require('lodash'),
	JsonReader = require('App/JsonReader'),
	Route = require('App/Router/Route');

module.exports = Class.create({
	/**
	 * @param {String} path		Path to routes
	 */
	constructor: function() {
		this.routes = {};
	},

	/**
	 * Loads the routes for a given module
	 */
	loadModuleRoutes: function(moduleName, path) {
		var loader = new JsonReader(path),
			that = this;

		_.each(loader.getData(), function(routeData, name) {
			routeData.module = moduleName;
			that.routes[name] = new Route(routeData);
		});
	},

	getRoutes: function() {
		return this.routes;
	},

	each: function(fn, scope) {
		_.each(this.routes, fn, scope || this);
	}

});